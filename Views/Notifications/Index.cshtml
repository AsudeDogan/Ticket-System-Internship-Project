@model IEnumerable<TicketSystem.Models.Notification>
@{
    ViewData["Title"] = "Notifications";
}

<h2>Notifications</h2>

<form asp-action="MarkAllRead" method="post" class="mb-3">
    @Html.AntiForgeryToken()
    <button class="btn btn-sm btn-outline-secondary">Mark all as read</button>
</form>

@if (!Model.Any())
{
    <p class="text-muted">No notifications.</p>
}
else
{
    <ul class="list-group">
    @foreach (var n in Model)
    {
        <li class="list-group-item d-flex justify-content-between">
            <div>
                <div>@n.Message</div>
                <div class="small text-muted">@n.CreatedAt.ToLocalTime()</div>
            </div>
            @if (!n.IsRead)
            {
                <span class="badge bg-danger">new</span>
            }
        </li>
    }
    </ul>
}
